(this["webpackJsonpnanaimg-logger"]=this["webpackJsonpnanaimg-logger"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(4),s=n.n(a),o=n(15),i=n.n(o),r=(n(26),n(18)),l=n(5),g=n(2),d=n(16),j=n(17),h=n(20),m=n(19),b=(n(27),n(3)),O=n.n(b),u=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).goToContent=function(t){var n=t.target.id.split("-")[1];window.open(e.state.links[n])},e.reverseAction=function(t){var n=t.target.id.split("-")[1],c=t.target.id.split("-")[2],a=document.querySelector("#action-".concat(n)).textContent.split(" ")[0],s=document.querySelector("#action-".concat(n)).textContent.split(" ")[1];"removed"===a?"image"===s?O.a.post("https://nanaimg.net/logs/restore/image/".concat(c,"/").concat(n)):"manifesto"===s?O.a.post("https://nanaimg.net/logs/restore/manifesto/".concat(c,"/").concat(n)):"comment"===s&&O.a.post("https://nanaimg.net/logs/restore/comment/".concat(c,"/").concat(n)):"restored"===a&&("image"===s?O.a.post("https://nanaimg.net/logs/remove/image/".concat(c,"/").concat(n)):"manifesto"===s?O.a.post("https://nanaimg.net/logs/remove/manifesto/".concat(c,"/").concat(n)):"comment"===s&&O.a.post("https://nanaimg.net/logs/remove/comment/".concat(c,"/").concat(n))),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{reverses:Object(g.a)(Object(g.a)({},e.state.reverses),{},Object(l.a)({},n,!0))}))},e.state={logs:[],reverses:{},links:{}},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("https://nanaimg.net/logs").then((function(t){var n=t.data.response,c=[],a=[];n.forEach((function(e){c=Object(g.a)(Object(g.a)({},c),{},Object(l.a)({},e.action_id,!1)),a=Object(g.a)(Object(g.a)({},a),{},Object(l.a)({},e.action_id,e.recipient_url))})),e.setState(Object(g.a)(Object(g.a)({},e.state),{},{logs:Object(r.a)(n),reverses:c,links:a}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{id:"h1-mod-logs",children:"Mod Logs"}),Object(c.jsxs)("div",{id:"logs-heading",children:[Object(c.jsx)("h2",{className:"logs-types regl-user",children:"User"}),Object(c.jsx)("h2",{className:"logs-types regl-action",children:"Action"}),Object(c.jsx)("h2",{className:"logs-types regl-id",children:"Content ID"}),Object(c.jsx)("h2",{className:"logs-types regl-date",children:"Date"}),Object(c.jsx)("h2",{className:"logs-types regl-reason",children:"Reason"}),Object(c.jsx)("h2",{className:"logs-types regl-actions",children:"Actions"})]}),this.state.logs.map((function(t){return Object(c.jsxs)("div",{className:"log-cards",children:[Object(c.jsx)("h2",{className:"log-data regl-user",children:t.user}),Object(c.jsx)("h2",{id:"action-".concat(t.action_id),className:"log-data regl-action",children:t.action}),Object(c.jsx)("h2",{className:"log-data regl-id",children:t.recipient}),Object(c.jsx)("h2",{className:"log-data regl-date",children:t.date}),Object(c.jsx)("h2",{className:"log-data regl-reason",children:t.explanation}),Object(c.jsx)("div",{className:"regl-actions",children:!1===e.state.reverses[t.action_id]?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"logger-buttons",id:"goto-".concat(t.action_id),onClick:e.goToContent,children:"Go to Content"}),Object(c.jsx)("button",{className:"logger-buttons",id:"reverse-".concat(t.action_id,"-").concat(t.recipient),onClick:e.reverseAction,children:"Reverse"})]}):Object(c.jsx)("h3",{id:"h3-log-reversed",children:"Action Reversed"})})]},t.action_id)}))]})}}]),n}(s.a.Component),p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(u,{})}),document.getElementById("root")),p()}},[[45,1,2]]]);
//# sourceMappingURL=main.e34be0b8.chunk.js.map