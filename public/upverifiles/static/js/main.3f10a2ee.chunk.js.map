{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","toggleOptions","setState","state","expanded","nameHandler","e","name","target","value","manHandler","countClass","length","manifesto","mCount","checkboxHandler","checked","fileSelectedHandler","files","size","selectedFile","errorMessage","message","fileUploadHandler","type","fd","FormData","append","disableComments","nsfw","axios","post","then","res","data","error","image_id","window","location","replace","author","fd2","username","postId","postColor","badge","uid","userId","href","split","catch","err","console","log","errors","id","onChange","this","onClick","className","placeholder","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3f10a2ee.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nclass App extends React.Component {\n\n  constructor(){\n    super();\n    this.state = {\n      selectedFile: null,\n      errorMessage: \"\",\n      message: \"\",\n      expanded: false,\n      disableComments: false,\n      name: \"\",\n      manifesto: \"\",\n      mCount: 0,\n      countClass: \"black-text\",\n      errors: false,\n      nsfw: false\n    }\n  }\n\n  toggleOptions = () => {\n    this.setState({\n      ...this.state,\n      expanded: !this.state.expanded\n    })\n  }\n\n  nameHandler = e => {\n    this.setState({\n      ...this.state,\n      name: e.target.value\n    })\n  }\n\n  manHandler = e => {\n    let countClass = (e.target.value.length > 10000) ? \"red-text\" : \"black-text\"\n    this.setState({\n      ...this.state,\n      manifesto: e.target.value,\n      mCount: e.target.value.length,\n      countClass: countClass\n    })\n  }\n\n  checkboxHandler = e => {\n    this.setState({\n      ...this.state,\n      [e.target.name]: e.target.checked\n    })\n  }\n\n  fileSelectedHandler = e => {\n    if (e.target.files[0].size > 5000000){\n      this.setState({\n        ...this.state,\n        selectedFile: e.target.files[0],\n        errorMessage: \"Your file is too big (max: 5MB)\",\n        message: \"\"\n      })\n    } else {\n      this.setState({\n        ...this.state,\n        selectedFile: e.target.files[0],\n      })\n    }\n    \n  }\n\n  fileUploadHandler = () => {\n  if (this.state.selectedFile !== null){\n    if (this.state.manifesto.length < 10001){\n      if (this.state.name.length < 31){\n        if (this.state.selectedFile.size < 5000001){\n          if (this.state.selectedFile.type === \"image/png\" || this.state.selectedFile.type === \"image/jpg\" || this.state.selectedFile.type === \"image/jpeg\" || this.state.selectedFile.type === \"image/gif\"){\n            const fd = new FormData();\n            // fd.append('image', this.state.selectedFile, this.state.selectedFile.name);\n            fd.append('name', this.state.name);\n            fd.append('manifesto', this.state.manifesto);\n            fd.append('disableComments', this.state.disableComments);\n            fd.append('nsfw', this.state.nsfw);\n            this.setState({\n              ...this.state,\n              errorMessage: \"\",\n              message: \"Uploading...\"\n            })\n            axios.post('https://nanaimg.net/upload', fd)\n              .then(res => {\n                if (res.data.error){\n                  this.setState({\n                    ...this.state,\n                    message: \"\",\n                    errorMessage: res.data.error\n                  })\n                } else if (res.data.image_id){\n                  this.setState({\n                    ...this.state,\n                    message:\"Success! Redirecting...\",\n                    errorMessage: \"\"\n                  })\n                  window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                } else if (res.data.author){\n                  let author = res.data.author;\n                  let fd2 = new FormData();\n                  fd2.append('image', this.state.selectedFile, this.state.selectedFile.name);\n                  fd2.append('name', author.username);\n                  fd2.append('manifesto', this.state.manifesto);\n                  fd2.append('disableComments', this.state.disableComments);\n                  fd2.append('nsfw', this.state.nsfw);\n                  fd2.append('postId', author.postId);\n                  fd2.append('postColor', author.postColor);\n                  fd2.append('badge', author.badge);\n                  fd2.append('uid', author.uid);\n                  fd2.append('userId', author.userId);\n                  if (window.location.href.split(':')[0] === 'https'){\n                    axios.post('https://img.nanaimg.net/uploadauth', fd2)\n                    .then(res => {\n                      if (res.data.error){\n                        this.setState({\n                          ...this.state,\n                          message: \"\",\n                          errorMessage: res.data.error\n                        })\n                      } else if (res.data.image_id){\n                        this.setState({\n                          ...this.state,\n                          message:\"Success! Redirecting...\",\n                          errorMessage: \"\"\n                        })\n                        window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                      } else {\n                        this.setState({\n                          ...this.state,\n                          message: \"\",\n                          errorMessage: \"An error occurred\"\n                        })\n                      }\n                    })\n                  } else if (window.location.href.split(':')[0] === 'http'){\n                    axios.post('http://img.nanaimg.net/uploadauth', fd2)\n                    .then(res => {\n                      if (res.data.error){\n                        this.setState({\n                          ...this.state,\n                          message: \"\",\n                          errorMessage: res.data.error\n                        })\n                      } else if (res.data.image_id){\n                        this.setState({\n                          ...this.state,\n                          message:\"Success! Redirecting...\",\n                          errorMessage: \"\"\n                        })\n                        window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                      } else {\n                        this.setState({\n                          ...this.state,\n                          message: \"\",\n                          errorMessage: \"An error occurred\"\n                        })\n                      }\n                    })\n                  } else {\n                    axios.post('https://img.nanaimg.net/uploadauth', fd2)\n                    .then(res => {\n                      if (res.data.error){\n                        this.setState({\n                          ...this.state,\n                          message: \"\",\n                          errorMessage: res.data.error\n                        })\n                      } else if (res.data.image_id){\n                        this.setState({\n                          ...this.state,\n                          message:\"Success! Redirecting...\",\n                          errorMessage: \"\"\n                        })\n                        window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                      } else {\n                        this.setState({\n                          ...this.state,\n                          message: \"\",\n                          errorMessage: \"An error occurred\"\n                        })\n                      }\n                    })\n                  }\n                } else {\n                  this.setState({\n                    ...this.state,\n                    message: \"\",\n                    errorMessage: \"An error occurred. Please try again.\"\n                  })\n                }\n              })\n              .catch(err => {\n                console.log(err)\n                this.setState({\n                  ...this.state,\n                  errorMessage: \"An error occurred. Please try again.\",\n                  message: \"\"\n                })\n              })\n    \n          } else {\n            this.setState({\n              ...this.state,\n              errorMessage: \"Invalid file format\",\n              message: \"\"\n            })\n          }\n        } else {\n          this.setState({\n            ...this.state,\n            errorMessage: \"Your file is too big (max: 5MB)\",\n            message: \"\"\n          })\n        }\n      } else {\n        this.setState({\n          ...this.state,\n          errorMessage: \"Your name is too long (max: 30 characters)\",\n          message: \"\"\n        })\n      }\n    } else {\n      this.setState({\n        ...this.state,\n        errorMessage: \"Your manifesto is too long (max: 10000 characters)\",\n        message: \"\"\n      })\n    }\n  } else {\n    this.setState({\n      ...this.state,\n      errorMessage: \"No file selected\",\n      message: \"\"\n    })\n  }\n}\n\n\n  render(){\n    return (\n      <div id=\"home\">\n        <h2 id=\"upload-your-image\">Upload your image</h2>\n          <div id=\"form\">\n            <input type=\"file\" id=\"image-upload-button\" onChange={this.fileSelectedHandler}/><br/>\n            <button onClick={this.fileUploadHandler} id=\"image-submit-button\">Upload</button>\n            <button id=\"options-button\" type=\"button\" onClick={this.toggleOptions}>Options</button>\n            {this.state.errorMessage === \"\" ? <p></p> : <p id=\"upload-error-message\">{this.state.errorMessage}</p>}\n            {this.state.message === \"\" ? <p></p> : <p id=\"upload-message\">{this.state.message}</p>}\n          </div>\n          {this.state.expanded ? \n          <div id=\"options\">\n            <div className=\"option\"><label className=\"options-label\">Name: </label><input className=\"options-input\" type=\"text\" name=\"name\" placeholder=\"30 chars max (optional)\" onChange={this.nameHandler}/></div><br/>\n            <div className=\"option\"><label className=\"options-label\">Manifesto: </label><textarea id=\"manifesto\" className=\"options-input\" name=\"manifesto\" placeholder=\"Enter text (optional)\" onChange={this.manHandler}></textarea><p id=\"man-count\"><span className={this.state.countClass}>{this.state.mCount}</span>/10000</p></div><br/>\n            <div className=\"option\"><label className=\"options-label\">Disable comments </label><input className=\"options-input\" type=\"checkbox\" name=\"disableComments\" onChange={this.checkboxHandler}/></div><br/>\n            <div className=\"option\"><label className=\"options-label\">Mark NSFW </label><input className=\"options-input\" type=\"checkbox\" name=\"nsfw\" onChange={this.checkboxHandler}/></div><br/>\n          </div> : <div></div>}\n      </div>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}