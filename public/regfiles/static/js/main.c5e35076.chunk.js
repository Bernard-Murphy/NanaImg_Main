(this["webpackJsonpnanaimg-register"]=this["webpackJsonpnanaimg-register"]||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},44:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(3),n=s.n(r),i=s(14),c=s.n(i),o=(s(25),s(4)),l=s(1),d=s(15),m=s(16),j=s(19),b=s(18),g=(s(26),s(17)),u=s.n(g),h=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(){var e;return Object(d.a)(this,s),(e=t.call(this)).textHandler=function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},Object(o.a)({},t.target.name,t.target.value)))},e.checkIfEmailInString=function(e){return/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(e)},e.formSubmit=function(){if(e.state.password1===e.state.password2)if(e.checkIfEmailInString(e.state.email))if(e.state.email.length<129)if(e.state.name.length<31)if(e.state.password1.length<257)if(e.state.email.split("\\").length>1)e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Invalid character '\\' in email address"}));else if(e.state.name.split("\\").length>1)e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Invalid character '\\' in username"}));else if(e.state.password1.split("\\").length>1)e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Invalid character '\\' in password"}));else{var t=new FormData;t.append("name",e.state.name),t.append("password1",e.state.password1),t.append("password2",e.state.password2),t.append("email",e.state.email),e.setState(Object(l.a)(Object(l.a)({},e.state),{},{message:"Submitting...",errorMessage:""})),u.a.post("https://nanaimg.net/register",t).then((function(t){t.data.success?e.setState(Object(l.a)(Object(l.a)({},e.state),{},{thanks:!0})):t.data.fail&&e.setState(Object(l.a)(Object(l.a)({},e.state),{},{message:"",errorMessage:t.data.fail}))})).catch((function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"An error occurred. Please try again.",message:""}))}))}else e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Your password is too long (max: 256 characters)"}));else e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Your username is too long (max: 30 characters)"}));else e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Your email is too long."}));else e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Please enter a valid email"}));else e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"Your passwords do not match."}))},e.state={name:"",password1:"",password2:"",email:"",message:"",errorMessage:"",thanks:!1},e}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.querySelector("#reg-username").addEventListener("keydown",(function(t){"Enter"===t.key&&e.formSubmit()})),document.querySelector("#reg-pass1").addEventListener("keydown",(function(t){"Enter"===t.key&&e.formSubmit()})),document.querySelector("#reg-pass2").addEventListener("keydown",(function(t){"Enter"===t.key&&e.formSubmit()})),document.querySelector("#reg-email").addEventListener("keydown",(function(t){"Enter"===t.key&&e.formSubmit()}))}},{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:!1===this.state.thanks?Object(a.jsxs)("div",{id:"register-form",children:[Object(a.jsx)("h1",{id:"h1-must-register",children:"Register"}),Object(a.jsxs)("div",{className:"register-field",children:[Object(a.jsx)("label",{className:"labels-register-form",children:"Username: "})," ",Object(a.jsx)("input",{onChange:this.textHandler,name:"name",type:"text",className:"input-register-form",placeholder:"max: 30 characters",id:"reg-username"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"register-field",children:[Object(a.jsx)("label",{className:"labels-register-form",children:"Password: "})," ",Object(a.jsx)("input",{onChange:this.textHandler,name:"password1",type:"password",className:"input-register-form",id:"reg-pass1"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"register-field",children:[Object(a.jsx)("label",{className:"labels-register-form",children:"Re-enter Password: "})," ",Object(a.jsx)("input",{onChange:this.textHandler,name:"password2",type:"password",className:"input-register-form",id:"reg-pass2"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"register-field",children:[Object(a.jsx)("label",{className:"labels-register-form",children:"Email: "})," ",Object(a.jsx)("input",{onChange:this.textHandler,name:"email",type:"email",className:"input-register-form",id:"reg-email"})]}),Object(a.jsx)("div",{id:"button-container-register",children:Object(a.jsx)("button",{onClick:this.formSubmit,id:"button-register",children:"Register"})}),""===this.state.errorMessage?Object(a.jsx)("p",{}):Object(a.jsx)("p",{id:"comment-error-message",children:this.state.errorMessage}),""===this.state.message?Object(a.jsx)("p",{}):Object(a.jsx)("p",{id:"comment-upload-message",children:this.state.message})]}):Object(a.jsx)("h1",{id:"h1-register-thanks",children:"Thank you for your submission. Your registration will be reviewed shortly."})})}}]),s}(n.a.Component),p=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,45)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),r(e),n(e),i(e)}))};c.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(h,{})}),document.getElementById("root")),p()}},[[44,1,2]]]);
//# sourceMappingURL=main.c5e35076.chunk.js.map