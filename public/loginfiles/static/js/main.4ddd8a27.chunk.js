(this["webpackJsonpnanaimg-login"]=this["webpackJsonpnanaimg-login"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(3),o=n.n(s),i=n(15),r=n.n(i),c=(n(25),n(4)),l=n(2),d=n(16),g=n(17),m=n(19),u=n(18),b=(n(26),n(6)),j=n.n(b),h=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).textHandler=function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},Object(c.a)({},t.target.name,t.target.value)))},e.formSubmit=function(){var t=new FormData;t.append("name",e.state.name),t.append("password",e.state.password),e.setState(Object(l.a)(Object(l.a)({},e.state),{},{message:"logging in...",errorMessage:""})),j.a.post("https://nanaimg.net/login",t).then((function(n){n.data.success?j.a.post("https://img.nanaimg.net/login",t).then((function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},{message:"Success! Redirecting..."})),window.location.href="https://nanaimg.net/dashboard"})).catch((function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},{message:"",errorMessage:"An error occurred. Please try again."}))})):n.data.fail&&e.setState(Object(l.a)(Object(l.a)({},e.state),{},{message:"",errorMessage:n.data.fail}))})).catch((function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},{errorMessage:"An error occurred. Please try again.",message:""}))}))},e.forgotPassword=function(){window.location.href="https://nanaimg.net/forgotPassword"},e.state={name:"",password:"",message:"",errorMessage:""},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.querySelector("#login-input-name").addEventListener("keydown",(function(t){"Enter"===t.key&&e.formSubmit()})),document.querySelector("#login-input-pass").addEventListener("keydown",(function(t){"Enter"===t.key&&e.formSubmit()}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{id:"login-form",children:[Object(a.jsx)("h1",{id:"h1-must-login",children:"Log In"}),Object(a.jsxs)("div",{className:"login-field",children:[Object(a.jsx)("label",{className:"labels-login-form",children:"Username: "})," ",Object(a.jsx)("input",{onChange:this.textHandler,name:"name",type:"text",id:"login-input-name",className:"input-login-form"})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"login-field",children:[Object(a.jsx)("label",{className:"labels-login-form",children:"Password: "})," ",Object(a.jsx)("input",{onChange:this.textHandler,name:"password",type:"password",className:"input-login-form",id:"login-input-pass"})]}),Object(a.jsxs)("div",{id:"button-container-login",children:[Object(a.jsx)("button",{onClick:this.formSubmit,id:"button-login",children:"Log in"}),Object(a.jsx)("button",{onClick:this.forgotPassword,id:"button-forgot",children:"Forgot Password"})]}),""===this.state.errorMessage?Object(a.jsx)("p",{}):Object(a.jsx)("p",{id:"comment-error-message",children:this.state.errorMessage}),""===this.state.message?Object(a.jsx)("p",{}):Object(a.jsx)("p",{id:"comment-upload-message",children:this.state.message})]})}}]),n}(o.a.Component),p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),o(e),i(e)}))};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(h,{})}),document.getElementById("root")),p()}},[[44,1,2]]]);
//# sourceMappingURL=main.4ddd8a27.chunk.js.map