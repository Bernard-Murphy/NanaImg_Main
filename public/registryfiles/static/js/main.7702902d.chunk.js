(this["webpackJsonpnanaimg-registry"]=this["webpackJsonpnanaimg-registry"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),s=a(4),i=a.n(s),l=(a(29),a(21)),o=a(3),u=a(18),d=a(19),m=a(23),g=a(22),h=(a(30),a(20)),j=a(7),b=a.n(j),y=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).checkIfEmailInString=function(e){return/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(e)},e.userAction=function(t){var a=t.target.id.split("-")[1],r=document.querySelector("#email".concat(a)).value,n=document.querySelector("#role".concat(a," div div div")).textContent;console.log(n);var c=document.querySelector("#comments".concat(a)).value;if(e.checkIfEmailInString(r))if(r.length<129)if(c.length<512){var s=new FormData;s.append("email",r),s.append("role",n),s.append("comments",c),b.a.post("https://nanaimg.net/registry/".concat(a),s).then((function(e){window.location.href="https://nanaimg.net/dashboard/registry"})).catch((function(e){console.log("an error occurred")}))}else e.setState(Object(o.a)(Object(o.a)({},e.state),{},{error:"".concat(a,"-Comments max length exceeded (512 char max)")}));else e.setState(Object(o.a)(Object(o.a)({},e.state),{},{error:"".concat(a,"-Email max length exceeded (130 char max)")}));else e.setState(Object(o.a)(Object(o.a)({},e.state),{},{error:"".concat(a,"-Invalid email")}))},e.state={registry:[],error:""},e.roleOptions=[{value:"Chadmin",label:"Chadmin"},{value:"Janny",label:"Janny"},{value:"Verified",label:"Verified"},{value:"Banned",label:"Banned"}],e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.querySelector("html").addEventListener("click",(function(){var e=document.querySelectorAll("input");if(e.length)for(var t=2;t<e.length+3;t++){var a=document.querySelector("#react-select-".concat(t,"-input"));null!==a&&(a.readOnly=!0)}})),b.a.get("https://nanaimg.net/registry").then((function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{registry:Object(l.a)(t.data.response)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{id:"h1-registry",children:"Registry"}),Object(r.jsxs)("div",{id:"registry-queue-heading",children:[Object(r.jsx)("h2",{className:"registry-queue-types reg-user",children:"User"}),Object(r.jsx)("h2",{className:"registry-queue-types reg-email",children:"Email"}),Object(r.jsx)("h2",{className:"registry-queue-types reg-role",children:"Role"}),Object(r.jsx)("h2",{className:"registry-queue-types reg-com",children:"Comments"}),Object(r.jsx)("h2",{className:"registry-queue-types reg-act",children:"Actions"})]}),this.state.registry.map((function(t){return Object(r.jsxs)("div",{className:"registry-cards",id:"reg".concat(t.user_id),children:[Object(r.jsx)("h2",{className:"registry-data reg-user",children:t.username}),Object(r.jsx)("div",{className:"reg-email",children:Object(r.jsx)("input",{id:"email".concat(t.user_id),className:"registry-data",defaultValue:t.email})}),Object(r.jsx)(h.a,{id:"role".concat(t.user_id),className:"registry-data reg-role",options:e.roleOptions,defaultValue:{label:"".concat(t.type),value:"".concat(t.type)}}),Object(r.jsx)("div",{className:"reg-com",children:Object(r.jsx)("input",{id:"comments".concat(t.user_id),className:"registry-data",defaultValue:t.status_comments})}),Object(r.jsxs)("div",{className:"reg-act",children:[Object(r.jsx)("button",{id:"update-".concat(t.user_id),className:"button-registry",onClick:e.userAction,children:"Update"}),e.state.error.split("-")[0]==t.user_id?Object(r.jsx)("p",{className:"p-error-registry",children:e.state.error.split("-")[1]}):Object(r.jsx)(r.Fragment,{})]})]},t.user_id)}))]})}}]),a}(c.a.Component),p=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(y,{}),document.getElementById("root")),p()}},[[67,1,2]]]);
//# sourceMappingURL=main.7702902d.chunk.js.map