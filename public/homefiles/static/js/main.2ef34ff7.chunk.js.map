{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","toggleOptions","setState","state","expanded","nameHandler","e","name","target","value","manHandler","countClass","length","manifesto","mCount","checkboxHandler","checked","fileSelectedHandler","files","size","selectedFile","errorMessage","message","fileUploadHandler","captcha","type","fd","FormData","append","disableComments","nsfw","axios","post","then","res","data","error","image_id","window","location","replace","author","fd2","username","postId","postColor","badge","captchaKey","href","split","catch","err","console","log","recaptchaVerified","recaptchaLoad","errors","rendered","script","document","createElement","src","async","body","appendChild","this","id","onChange","sitekey","onClick","className","placeholder","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ef34ff7.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport Recaptcha from 'react-google-recaptcha';\n\nclass App extends React.Component {\n\n  constructor(){\n    super();\n    this.state = {\n      selectedFile: null,\n      errorMessage: \"\",\n      message: \"\",\n      expanded: false,\n      disableComments: false,\n      name: \"\",\n      manifesto: \"\",\n      mCount: 0,\n      countClass: \"black-text\",\n      errors: false,\n      nsfw: false,\n      captcha: false,\n      captchaKey: '',\n      rendered: false\n    }\n  }\n\n  componentDidMount() {\n    const script = document.createElement(\"script\");\n    script.src = \"https://www.google.com/recaptcha/api.js?render=explicit\";\n    script.async = true;\n    document.body.appendChild(script);\n    this.setState({\n      ...this.state,\n      rendered: true\n    })\n  }\n\n  toggleOptions = () => {\n    this.setState({\n      ...this.state,\n      expanded: !this.state.expanded\n    })\n  }\n\n  nameHandler = e => {\n    this.setState({\n      ...this.state,\n      name: e.target.value\n    })\n  }\n\n  manHandler = e => {\n    let countClass = (e.target.value.length > 10000) ? \"red-text\" : \"black-text\"\n    this.setState({\n      ...this.state,\n      manifesto: e.target.value,\n      mCount: e.target.value.length,\n      countClass: countClass\n    })\n  }\n\n  checkboxHandler = e => {\n    this.setState({\n      ...this.state,\n      [e.target.name]: e.target.checked\n    })\n  }\n\n  fileSelectedHandler = e => {\n    if (e.target.files[0].size > 5000000){\n      this.setState({\n        ...this.state,\n        selectedFile: e.target.files[0],\n        errorMessage: \"Your file is too big (max: 5MB)\",\n        message: \"\"\n      })\n    } else {\n      this.setState({\n        ...this.state,\n        selectedFile: e.target.files[0],\n      })\n    }\n    \n  }\n\n  fileUploadHandler = () => {\n  if (this.state.captcha){\n    if (this.state.selectedFile !== null){\n      if (this.state.manifesto.length < 10001){\n        if (this.state.name.length < 31){\n          if (this.state.selectedFile.size < 5000001){\n            if (this.state.selectedFile.type === \"image/png\" || this.state.selectedFile.type === \"image/jpg\" || this.state.selectedFile.type === \"image/jpeg\" || this.state.selectedFile.type === \"image/gif\"){\n              const fd = new FormData();\n              // fd.append('image', this.state.selectedFile, this.state.selectedFile.name);\n              fd.append('name', this.state.name);\n              fd.append('manifesto', this.state.manifesto);\n              fd.append('disableComments', this.state.disableComments);\n              fd.append('nsfw', this.state.nsfw);\n              this.setState({\n                ...this.state,\n                errorMessage: \"\",\n                message: \"Uploading...\"\n              })\n              axios.post('https://nanaimg.net/upload', fd)\n                .then(res => {\n                  if (res.data.error){\n                    this.setState({\n                      ...this.state,\n                      message: \"\",\n                      errorMessage: res.data.error\n                    })\n                  } else if (res.data.image_id){\n                    this.setState({\n                      ...this.state,\n                      message:\"Success! Redirecting...\",\n                      errorMessage: \"\"\n                    })\n                    window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                  } else if (res.data.author){\n                    let author = res.data.author;\n                    let fd2 = new FormData();\n                    fd2.append('image', this.state.selectedFile, this.state.selectedFile.name);\n                    fd2.append('name', author.username);\n                    fd2.append('manifesto', this.state.manifesto);\n                    fd2.append('disableComments', this.state.disableComments);\n                    fd2.append('nsfw', this.state.nsfw);\n                    fd2.append('postId', author.postId);\n                    fd2.append('postColor', author.postColor);\n                    fd2.append('badge', author.badge);\n                    fd2.append('captcha', this.state.captchaKey);\n                    if (window.location.href.split(':')[0] === \"https\"){\n                      axios.post('https://img.nanaimg.net/upload', fd2)\n                        .then(res => {\n                          if (res.data.error){\n                            this.setState({\n                              ...this.state,\n                              message: \"\",\n                              errorMessage: res.data.error\n                            })\n                          } else if (res.data.image_id){\n                            this.setState({\n                              ...this.state,\n                              message:\"Success! Redirecting...\",\n                              errorMessage: \"\"\n                            })\n                            window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                          } else {\n                            this.setState({\n                              ...this.state,\n                              message: \"\",\n                              errorMessage: \"An error occurred\"\n                            })\n                          }\n                        })\n                    } else if (window.location.href.split(':')[0] === \"http\"){\n                      axios.post('http://img.nanaimg.net/upload', fd2)\n                        .then(res => {\n                          if (res.data.error){\n                            this.setState({\n                              ...this.state,\n                              message: \"\",\n                              errorMessage: res.data.error\n                            })\n                          } else if (res.data.image_id){\n                            this.setState({\n                              ...this.state,\n                              message:\"Success! Redirecting...\",\n                              errorMessage: \"\"\n                            })\n                            window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                          } else {\n                            this.setState({\n                              ...this.state,\n                              message: \"\",\n                              errorMessage: \"An error occurred\"\n                            })\n                          }\n                        })\n                    } else {\n                      axios.post('https://img.nanaimg.net/upload', fd2)\n                        .then(res => {\n                          if (res.data.error){\n                            this.setState({\n                              ...this.state,\n                              message: \"\",\n                              errorMessage: res.data.error\n                            })\n                          } else if (res.data.image_id){\n                            this.setState({\n                              ...this.state,\n                              message:\"Success! Redirecting...\",\n                              errorMessage: \"\"\n                            })\n                            window.location.replace(`https://nanaimg.net/image/${res.data.image_id}`);\n                          } else {\n                            this.setState({\n                              ...this.state,\n                              message: \"\",\n                              errorMessage: \"An error occurred\"\n                            })\n                          }\n                        })\n                    } \n                  } else {\n                    this.setState({\n                      ...this.state,\n                      message: \"\",\n                      errorMessage: \"An error occurred. Please try again.\"\n                    })\n                  }\n                })\n                .catch(err => {\n                  console.log(err)\n                  this.setState({\n                    ...this.state,\n                    errorMessage: \"An error occurred. Please try again.\",\n                    message: \"\"\n                  })\n                })\n      \n            } else {\n              this.setState({\n                ...this.state,\n                errorMessage: \"Invalid file format\",\n                message: \"\"\n              })\n            }\n          } else {\n            this.setState({\n              ...this.state,\n              errorMessage: \"Your file is too big (max: 5MB)\",\n              message: \"\"\n            })\n          }\n        } else {\n          this.setState({\n            ...this.state,\n            errorMessage: \"Your name is too long (max: 30 characters)\",\n            message: \"\"\n          })\n        }\n      } else {\n        this.setState({\n          ...this.state,\n          errorMessage: \"Your manifesto is too long (max: 10000 characters)\",\n          message: \"\"\n        })\n      }\n    } else {\n      this.setState({\n        ...this.state,\n        errorMessage: \"No file selected\",\n        message: \"\"\n      })\n    }\n  } else {\n    this.setState({\n      ...this.state,\n      errorMessage: \"Please solve the Captcha\",\n      message: \"\"\n    })\n  }\n}\n\nrecaptchaVerified = (res) => {\n  if (res){\n    this.setState({\n      ...this.state,\n      captcha: true,\n      captchaKey: res\n    })\n  } else {\n    this.setState({\n      ...this.state,\n      captcha: false\n    })\n  }\n}\n\nrecaptchaLoad = () => {\n  console.log('captcha');\n}\n\n  render(){\n    return (\n      <div id=\"home\">\n        <h2 id=\"upload-your-image\">Upload your image</h2>\n          <div id=\"form\">\n            <input type=\"file\" id=\"image-upload-button\" onChange={this.fileSelectedHandler}/><br/>\n            {this.state.rendered ? <div id=\"recaptcha-home\"><Recaptcha\n              sitekey=\"6LdiLvoZAAAAAI5d2nIWtZE5_abJFgGBJZNmepJK\"\n              onChange={this.recaptchaVerified}\n            /></div> : <></>}\n            <button onClick={this.fileUploadHandler} id=\"image-submit-button\">Upload</button>\n            <button id=\"options-button\" type=\"button\" onClick={this.toggleOptions}>Options</button>\n            {this.state.errorMessage === \"\" ? <p></p> : <p id=\"upload-error-message\">{this.state.errorMessage}</p>}\n            {this.state.message === \"\" ? <p></p> : <p id=\"upload-message\">{this.state.message}</p>}\n          </div>\n          {this.state.expanded ? \n          <div id=\"options\">\n            <div className=\"option\"><label className=\"options-label\">Name: </label><input className=\"options-input\" type=\"text\" name=\"name\" placeholder=\"30 chars max (optional)\" onChange={this.nameHandler}/></div><br/>\n            <div className=\"option\"><label className=\"options-label\">Manifesto: </label><textarea id=\"manifesto\" className=\"options-input\" name=\"manifesto\" placeholder=\"Enter text (optional)\" onChange={this.manHandler}></textarea><p id=\"man-count\"><span className={this.state.countClass}>{this.state.mCount}</span>/10000</p></div><br/>\n            <div className=\"option\"><label className=\"options-label\">Disable comments </label><input className=\"options-input\" type=\"checkbox\" name=\"disableComments\" onChange={this.checkboxHandler}/></div><br/>\n            <div className=\"option\"><label className=\"options-label\">Mark NSFW </label><input className=\"options-input\" type=\"checkbox\" name=\"nsfw\" onChange={this.checkboxHandler}/></div><br/>\n          </div> : <div></div>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}